function t835_init(t){var o,n,e,s,r,l,i,c,a=document.querySelector("#rec"+t);a&&(o=a.querySelector(".t835__quiz-wrapper"),(n=a.querySelector(".t835 .t-form"))&&(e=a.querySelectorAll(".t835 .t-input-group"),s=a.querySelector(".t835__btn_prev"),r=a.querySelector(".t835__btn_next"),l=a.querySelector(".t835__btn_result"),i=a.querySelector(".t-form__errorbox-middle .t-form__errorbox-wrapper"),t=a.querySelector(".t835 .t-form__errorbox-middle"),c=0,t.insertAdjacentHTML("beforebegin",'<div class="t835__capture-form"></div>'),n.classList.remove("js-form-proccess"),(t=e[c])&&(t.style.display="block",t.classList.add("t-input-group-step_active"),t835_workWithAnswerCode(a),Array.prototype.forEach.call(e,function(t,e){t.setAttribute("data-question-number",e)}),t835_wrapCaptureForm(a),t835_showCounter(a,c),t835_disabledPrevBtn(a,c),t835_checkLength(a),s.addEventListener("click",function(t){0<c&&c--,t835_setProgress(a,-1),t835_runLazyLoad(),t835_awayFromResultScreen(a),t835_showCounter(a,c),t835_hideError(a,c),t835_disabledPrevBtn(a,c),t835_switchQuestion(a,c),t835_scrollToTop(o),t.preventDefault()}),r.addEventListener("click",function(t){var e;o.classList.contains("t835__quiz-published")&&(e=t835_setError(a,c)),e&&(i.style.display="none"),e||(c++,s&&s.removeAttribute("disabled"),t835_setProgress(a,1),t835_showCounter(a,c),t835_switchQuestion(a,c),t835_scrollToTop(o)),t835_runLazyLoad(),t.preventDefault()}),Array.prototype.forEach.call(e,function(t){t.addEventListener("keypress",function(t){var e,r=n.querySelector(".t-input-group-step_active");13!==event.keyCode||n.classList.contains("js-form-proccess")||r.classList.contains("t-input-group_ta")||(o.classList.contains("t835__quiz-published")&&(e=t835_setError(a,c)),r=t835_createQuestionArr(a),e&&(i.style.display="none"),s&&s.removeAttribute("disabled"),e||(c++,t835_setProgress(a,1),c<r.length?t835_switchQuestion(a,c):(t835_switchResultScreen(a),n.classList.add("js-form-proccess")),t835_scrollToTop(o),t835_disabledPrevBtn(a,c)),t835_runLazyLoad(),t.preventDefault())})}),l.addEventListener("click",function(t){var e;o.classList.contains("t835__quiz-published")&&(e=t835_setError(a,c)),e&&(i.style.display="none"),e||(c++,t835_setProgress(a,1),t835_switchResultScreen(a),t835_scrollToTop(o),n.classList.add("js-form-proccess"),t835_disabledPrevBtn(a,c),e=n.querySelector('input[name="form-spec-comments"]'),1==n.getAttribute("data-formactiontype")||e||n.insertAdjacentHTML("beforeend",'<div style="position: absolute; left: -5000px; bottom:0;"><input type="text" name="form-spec-comments" value="Its good" class="js-form-spec-comments"  tabindex="-1" /></div>')),t.preventDefault()}))))}function t835_runLazyLoad(){var t;document.querySelector(".t-records:not([data-tilda-mode])")&&(t=document.querySelector("#allrecords"),"y"!==window.lazy&&"yes"!==t.getAttribute("data-tilda-lazy")||t_onFuncLoad("t_lazyload_update",function(){t_lazyload_update()}))}function t835_workWithAnswerCode(t){var e=t.querySelector(".t-input-group_ri");e&&(r=e.querySelectorAll("input"),Array.prototype.forEach.call(r,function(t){-1!==t.value.indexOf("value::")&&(t835_setAnswerCode(t),(t=t.parentNode.querySelector(".t-img-select__text")).textContent=t.textContent.split("value::")[0].trim())}));var r=t.querySelector(".t-input-group_rd");r&&(r=r.querySelectorAll("input"),Array.prototype.forEach.call(r,function(t){-1!==t.value.indexOf("value::")&&(t835_setAnswerCode(t),t.parentNode.innerHTML=function(){return t.innerHTML.split("value::")[0].trim()})}));t=t.querySelector(".t-input-group_sb");t&&(t=t.querySelectorAll("option"),Array.prototype.forEach.call(t,function(t){-1!==t.value.indexOf("value::")&&(t835_setAnswerCode(t),t.textContent=t.textContent.split("value::")[0].trim())}))}function t835_setAnswerCode(t){var e=t.value.split("value::")[1].trim();t.value=e}function t835_scrollToTop(t){var e=t.getBoundingClientRect().top+window.pageYOffset,r=0,o=t.closest(".t835");e>=window.scrollY||o.classList.contains("t835_scroll-disabled")||(o=(t=document.querySelector(".t228__positionfixed"))?parseFloat(getComputedStyle(t,null).height.replace("px","")):0,t&&!window.isMobile&&(r+=o),window.scrollTo(0,e-r))}function t835_checkLength(t){var e=t.querySelector(".t835__btn_next"),r=t.querySelector(".t835__btn_result"),t=t835_createQuestionArr(t);t&&t.length<2&&(e.style.display="none",r.style.display="block")}function t835_showCounter(t,e){var r=t.querySelector(".t835__quiz-description-counter");r&&(t=t835_createQuestionArr(t),r.innerHTML=e+1+"/"+t.length)}function t835_setError(t,e){var r,o=t835_createQuestionArr(t)[e];if("object"!=typeof window.tildaForm)return r;var n=window.tildaForm.validate(o);o.classList.add("js-error-control-box");e=n[0];if(void 0!==e){var s=e.type[0],e=t.querySelector(".t835 .t-form");if(!e)return;var t=e.querySelector(".t-form__errorbox-middle").querySelector(".js-rule-error-"+s),e=o.querySelector(".t-input-error"),t=t?t.textContent:"",l="";""!=t?l=t:t_onFuncLoad("t_form_dict",function(){l=t_form_dict(s)}),r="emptyfill"!=s&&window.tildaForm.showErrors(o,n),e.innerHTML=l}return r}function t835_hideError(t,e){e=t835_createQuestionArr(t)[e];e.classList.remove("js-error-control-box"),e.querySelector(".t-input-error").innerHTML=""}function t835_setProgress(t,e){var r=t835_createQuestionArr(t),o=t.querySelector(".t835__progressbar"),o=parseFloat(getComputedStyle(o,null).width.replace("px","")),t=t.querySelector(".t835__progress"),o=(parseFloat(getComputedStyle(t,null).width.replace("px",""))+e*(o/r.length))/o*100+"%";t&&(t.style.width=o)}function t835_wrapCaptureForm(t){var c=t.querySelector(".t835__capture-form"),a=t.querySelectorAll(".t835 .t-input-group"),u=t.querySelector(".t835__quiz-form-wrapper");Array.prototype.forEach.call(a,function(t){var e,r=t,o=r.classList.contains("t-input-group_em"),n=r.classList.contains("t-input-group_nm"),s=r.classList.contains("t-input-group_ph"),l=r.classList.contains("t-input-group_cb"),i=r.getAttribute("data-question-number"),t=u.classList.contains("t835__quiz-form-wrapper_withcheckbox")?4:3;i>=a.length-t&&(e=!0,u.classList.contains("t835__quiz-form-wrapper_newcapturecondition")&&(t=t835_getNextAll(r),Array.prototype.forEach.call(t,function(t){e=t.classList.contains("t-input-group_cb")||t.classList.contains("t-input-group_em")||t.classList.contains("t-input-group_nm")||t.classList.contains("t-input-group_ph")})),e&&(u.classList.contains("t835__quiz-form-wrapper_withcheckbox")?(o||n||s||l)&&(r.classList.add("t835__t-input-group_capture"),c.appendChild(r)):(o||n||s)&&(r.classList.add("t835__t-input-group_capture"),c.appendChild(r))))})}function t835_getNextAll(t){for(var e=[],r=t;r.nextElementSibling;)r.nextElementSibling.classList.contains("t-input-group")&&e.push(r.nextElementSibling),r=r.nextElementSibling;return e}function t835_createQuestionArr(t){var t=t.querySelectorAll(".t835 .t-input-group"),e=[];return Array.prototype.forEach.call(t,function(t){t.classList.contains("t835__t-input-group_capture")||e.push(t)}),e}function t835_disabledPrevBtn(t,e){t=t.querySelector(".t835__btn_prev");0==e?t.setAttribute("disabled",!0):t.removeAttribute("disabled")}function t835_switchQuestion(t,e){var r=t.querySelector(".t835__btn_next"),o=t.querySelector(".t835__btn_result"),t=t835_createQuestionArr(t);Array.prototype.forEach.call(t,function(t){t.style.display="none",t.classList.remove("t-input-group-step_active")}),t[e].style.display="block",t[e].classList.add("t-input-group-step_active"),e===t.length-1?(r.style.display="none",o.style.display="block"):(r.style.display="block",o.style.display="none")}function t835_switchResultScreen(t){var e=t.querySelector(".t835__capture-form"),r=t.querySelector(".t835__quiz-description"),o=t.querySelector(".t835__result-title"),n=t.querySelector(".t835__btn_result"),s=t.querySelector(".t835 .t-form__submit"),t=t835_createQuestionArr(t);Array.prototype.forEach.call(t,function(t){t.style.display="none"}),e&&(e.style.display="block"),n.style.display="none",r&&(r.style.display="none"),o&&(o.style.display="block"),s.style.display="block"}function t835_awayFromResultScreen(t){var e=t.querySelector(".t835__capture-form"),r=t.querySelector(".t835__quiz-description"),o=t.querySelector(".t835__result-title");t.querySelector(".t835 .t-form__submit").style.display="none",e&&(e.style.display="none"),r&&(r.style.display="block"),o&&(o.style.display="none")}function t835_onSuccess(t){t instanceof Element||(t=t[0]);var e,r,o,n,s,l,i=t.querySelector(".t-form__inputsbox");i&&(e=parseFloat(getComputedStyle(i,null).height.replace("px",""))+(i.getBoundingClientRect().top+window.pageYOffset),r=t.querySelector(".t-form__successbox").getBoundingClientRect().top+window.pageYOffset,o=t.closest(".t835").querySelector(".t835__btn_prev"),n=960<window.innerWidth?r-200:r-100,s=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight),r>window.pageYOffset||s-e<window.innerHeight-100?(i.classList.add("t835__inputsbox_hidden"),setTimeout(function(){var t=document.querySelector(".t-body"),t=parseFloat(getComputedStyle(t,null).height.replace("px",""));window.innerHeight>t&&((t=document.querySelector(".t-tildalabel"))&&(t.style.transition="opacity 50ms ease",t.style.opacity=0))},300)):(t835_scrollToTargetBlock(n,400),setTimeout(function(){i.classList.add("t835__inputsbox_hidden")},400)),(l=t.getAttribute("data-success-url"))&&0<l.length&&setTimeout(function(){window.location.href=l},500),o.style.display="none")}function t835_scrollToTargetBlock(t,e){var r;e<=0||(r=(t-window.pageYOffset)/e*10,setTimeout(function(){window.scrollTo(0,window.pageYOffset+r),document.body.setAttribute("data-scrollable","true"),window.pageYOffset!==t?t835_scrollToTargetBlock(t,e-10):document.body.removeAttribute("data-scrollable")},10))}Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.msMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.oMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(t){for(var e=this;e&&1===e.nodeType;){if(Element.prototype.matches.call(e,t))return e;e=e.parentElement||e.parentNode}return null});
