function show_BubbleNotice(o,t){td__showBubbleNotice(o,t,"")}function close_BubbleNotice(o){td__closeBubbleNotice(o)}function td__showBubbleNotice(o,t,e){void 0===t&&(t=6e3);var n=1;0<$(".td__cornernotice").length&&(n=$(".td__cornernotice").length+1),$(".t-help-bubble").css("display","none"),$("#tc-news").css("display","none"),$(".tc-errors").css("display","none");e='<div class="td__cornernotice" data-tilda-corner-notice="'+n+'" style="position: fixed;z-index:3001;background-color:'+("ok"==e?"green":"error"==e?"red":"#111")+';width:350px;bottom:50px;right:-350px;border: 1px solid #ccc;border-radius:10px;"><div class="td__cornernotice__close" style="position:absolute;right:10px;top:3px;color:#fff;cursor: pointer;">&times;</div><div class="td__cornernotice__text" style="color:#fff;font-family:\'tfutura\',Arial,sans-serif;font-size:16px;padding:20px 30px;">'+o+"</div><style>.td__cornernotice__text a{color:#ff855d;text-decoration: underline;}</style></div>";$("body").append(e);o=$(".td__cornernotice[data-tilda-corner-notice='"+n+"']");1<n&&(0<(e=$(".td__cornernotice[data-tilda-corner-notice='"+(n-1)+"']")).length&&(b=e.css("bottom"),h=e.css("height"),b=parseInt(b),h=parseInt(h)),n<5?o.css("bottom",b+h+5+"px"):o.css("bottom",b+25+"px")),o.animate({opacity:"100",right:"20px"},400,"easeInCirc",function(){setTimeout(function(){td__closeBubbleNotice(n)},t)}),o.find(".td__cornernotice__close").click(function(){td__closeBubbleNotice($(this).parent().attr("data-tilda-corner-notice"))})}function td__closeBubbleNotice(o){(o=void 0!==o&&0<o?$(".td__cornernotice[data-tilda-corner-notice='"+o+"']"):$(".td__cornernotice")).length&&o.animate({opacity:"0",right:"0px"},300,"easeOutCirc",function(){$(this).remove(),0===$(".td__cornernotice").length&&($(".t-help-bubble").css("display","block"),$("#tc-news").css("display","block"),$(".tc-errors").css("display","block"))})}function showOnboardingPin(o,t,e,n,i,r,c,d){if($(window).width()<1200)return"";var a,s;null===localStorage.getItem("tp-pin-"+o)&&(a="",a+="<div class='onboardingpin' id='"+o+"' data-pin-left='"+e+"' data-pin-top='"+n+"' data-pin-fixed='"+r+"' data-pin-elem='"+i+"'>",a+="<div class='onboardingpin__wrapper'>",a+="<div class='onboardingpin__pin'></div>",a+="<div class='onboardingpin__bubble' style='"+(-2e3<c?"left:"+c+"px;":"")+(-2e3<d?"top:"+d+"px;":"")+"' id='"+o+"'>",a+="<div class='onboardingpin__msg'>"+t+"</div>",a+="<div class='onboardingpin__btn-close'>OK</div>",a+="</div>",a+="</div>",a+="</div>",$("body").prepend(a),updatePinPosition(s=$("#"+o)),s.mouseover(function(){return!0===$(this).hasClass("onboardingpin_opened")?"":($(this).addClass("onboardingpin_opened"),$(this).find(".onboardingpin__bubble").css("opacity",0),$(this).find(".onboardingpin__bubble").animate({opacity:"1"},500,"easeOutCirc"),0==$(".onboardingpin__filter").length&&($("body").prepend("<div class='onboardingpin__filter' style='opacity:0;'></div>"),$(".onboardingpin__filter").animate({opacity:"0.7"},300,"easeOutCirc"),$(".onboardingpin__filter").click(function(){closeOnboardingPinHtml()})),void localStorage.setItem("tp-pin-"+o,Date.now()))}),$(".onboardingpin__btn-close").click(function(){closeOnboardingPinHtml()}),setInterval(function(){updatePinPosition(s)},2e3))}function updatePinPosition(o){var t=parseInt(o.attr("data-pin-left")),e=parseInt(o.attr("data-pin-top")),n=o.attr("data-pin-fixed"),i=0,r=0,c=o.attr("data-pin-elem");""!=c&&$(c).length&&(c=$(c).offset(),i=parseInt(c.left),"fixed"!=n&&(r=parseInt(c.top))),"fixed"==n&&o.css("position","fixed"),o.css("left",t+i+"px"),o.css("top",e+r+"px")}function closeOnboardingPinHtml(o){$(".onboardingpin_opened").remove(),$(".onboardingpin__filter").remove()}function check_logout(o){if("string"==typeof o&&"\x3c!--tlp--\x3e"==o.substring(0,10))throw window.location="/login/",new Error("Sorry, you logout!");if("string"==typeof o&&"\x3c!--tpbaa--\x3e"==o.substring(0,12))throw window.location="/projects/",new Error("Sorry, this page belongs to another account!")}function str_stripTags(o){return"object"!=typeof o&&o&&(o=o.replace(/(<([^>]+)>)/gi,"")),o}function getCSRF(){if("string"==typeof window.csrf&&""!=window.csrf)return window.csrf;var o=$("#csrf"),t="notset";return 1==o.length?void 0!==(t=o.attr("content"))?""!=t||(t="err. is empty."+t):t="err. is undefined.":t="err. len is: "+o.length,t}function logAjaxError(o,t,e,n,i){console.log("Sending API error to stat.."),void 0===n&&(n=""),void 0===e&&(e=""),void 0===t&&(t=""),"object"==typeof i&&null!==i||(i={}),void 0!==window.userid&&(i.userid=window.userid),void 0!==window.projectid&&(i.projectid=window.projectid),void 0!==window.pageid&&(i.pageid=window.pageid),void 0!==window.usercountry&&(i.usercountry=window.usercountry),void 0!==window.lang&&(i.lang=window.lang);var r=new XMLHttpRequest;r.open("POST","https://sysstat.tildacdn.com/api/ajax/error/",!0),r.setRequestHeader("Content-Type","application/json"),r.send(JSON.stringify({account_id:"cc",event_id:(new Date).getTime()+"-"+Math.floor(1e5*Math.random()),url:o,data:t,status_code:n,message_text:e,location:window.location.href,debug:i}))}function logNetworkError(o,t,e,n,i){console.log("Sending Network error to stat.."),void 0===o&&(o=""),"undefined"==typeof code&&(code=""),void 0===e&&(e=""),"object"==typeof i&&null!==i||(i={}),void 0===n&&(n=""),0<n&&(n=parseInt(n)),void 0!==window.userid&&(i.userid=window.userid),void 0!==window.projectid&&(i.projectid=window.projectid),void 0!==window.pageid&&(i.pageid=window.pageid),void 0!==window.usercountry&&(i.usercountry=window.usercountry),void 0!==window.lang&&(i.lang=window.lang);var r=new XMLHttpRequest;r.open("POST","https://sysstat.tildacdn.com/api/net/error/",!0),r.setRequestHeader("Content-Type","application/json"),r.send(JSON.stringify({account_id:"cc",type:o,url:t,data:e,time:n,location:window.location.href,debug:i}))}function errorLog(o){console.log("Sending API error to stat.."),$.ajax({type:"POST",url:"https://sysstat.tildacdn.com/api/ajax/error/",data:o,dataType:"text",success:function(o){console.log("Error log sent ok")},error:function(){},timeout:15e3})}function showAlert(o,t){void 0===t&&(t=6e3),$(".t-help-bubble").css("display","none"),$("body").append("<div class='cornernotice' style='border-radius:0;'><div class='cornernotice__close' style='font-size:20px;'>&times;</div><div class='cornernotice__text' style='background-color:red;color:#fff;fonr-weight:600;font-size:20px;'>"+o+"</div></div>"),$(".cornernotice").animate({opacity:"100",right:"20px"},400,"easeInCirc",function(){setTimeout(function(){closeAlert()},t)}),$(".cornernotice__close").click(function(){closeAlert()})}function closeAlert(){$(".cornernotice").animate({opacity:"0",right:"0px"},300,"easeOutCirc",function(){$(this).remove(),$(".t-help-bubble").css("display","block")})}function logout(){$(".t-menu__item-exit").css("pointer-events","none").css("opacity","0.5"),showLoadIcon();var e=Date.now(),o={};o.csrf=getCSRF(),o.comm="logout",void 0!==window.xhr_submit&&window.xhr_submit.abort(),window.xhr_submit=$.ajax({type:"POST",url:"/identity/submit/logout/",data:o,dataType:"text",success:function(o){var t;""!==o&&"logout"===o.substring(0,6)?0<o.indexOf("goto:")?(t=o.indexOf("goto:"),t=o.substr(t),window.location.href=t):window.location.href="/login/":(alert("Logout error.."),console.log("error logout response:"+o),window.location.href="/login/")},error:function(o){var t=Date.now()-e;"abort"===exception||(400<=o.status?alert("Error. Please reload the page and try again."):0==o.status&&t<100?alert("Error. Please check your Internet connection and try again."):alert("Error. Please reload the page and try again..."))},complete:function(o){delete window.xhr_submit,$(".t-menu__item-exit").css("pointer-events","auto").css("opacity","1"),hideLoadIcon()},timeout:2e4})}function getCookie(o){o=("; "+document.cookie).split("; "+o+"=");if(2==o.length)return o.pop().split(";").shift()}function delCookie(o){document.cookie=o+"=; path=/; expires=Thu, 01 Jan 1970 00:00:01 GMT;",console.log("del")}window.showLoadIcon=function(){0==$("#loadicon").length&&$("body").append('<div id="loadicon" class="spinner"></div>'),$("#loadicon").css({display:"block"})},window.hideLoadIcon=function(){0<$("#loadicon").length&&$("#loadicon").css({display:"none"})},jQuery.cachedScript=function(o){o={dataType:"script",cache:!0,url:o};return jQuery.ajax(o)};
